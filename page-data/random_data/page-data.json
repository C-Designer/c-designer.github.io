{"componentChunkName":"component---src-templates-blog-template-js","path":"/random_data/","result":{"data":{"cur":{"id":"7e0b80e8-e3b8-5b99-a740-002725a30648","html":"<h1 id=\"회원-랜덤-데이터\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90-%EB%9E%9C%EB%8D%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0\" aria-label=\"회원 랜덤 데이터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원 랜덤 데이터</h1>\n<p>회원파트를 맡은 팀원이 dong1, dong2, dong3… dong20 이런식으로 첫째자리는 0없이 데이터값을 집어넣었었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 반복문 사용하여 나이수정</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1970/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong1~5</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1980/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong6~10</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">11</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1990/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong11~20</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 614px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 191.66666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAmCAYAAADEO7urAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIO0lEQVRIx21WaXOT5xXVl05nOm0nQ4qxLcmSvMhabCMv2mzJkm3J1mprsazVO2swMJAYAqRAKZjFQEKAQDohKQEb4wWbffNCgKZD2rSdfunPOT3v46WQ9MOZR+8yV/eee+65r8zq9mIVtqZWVNmcODYyint3X+DO5BPMTj0TmCFu336KiYmn4pyaeo5J4ubteYGJyee4Tcj+X8A/MuCdue8wenMBF8YX8RlxbWIeDx++xuLi3/Do4UtMTj7DFAN/PPEj9k39G0e+foGD37z8ecBKBhw5eQbfzLxC4Or38F59A9eVNzhxYwnf/+Vf+G7p71hYeIMpBpxjBSOTP+Dw9D9xffwZLo0tQiYFWUV9iw+meheOnxzF9OwLXB17jrM3F3GOL345Po8HD17i+fwb3Lu3hAlmNzP5FFcmlnD21iucur6I/deY4UZmtNHmYKkOBmtEmakOh4+N4MmDV7h/Zx6PZxcEHhCzM/OYI8R5Z0HgLt+5y+uJ6UWMTy1BdnL0Ik6dvYTT5y7jzPnLGDnzOaZmH+LitWmcvjSGU5fHceaLZZy9ckuc57+cwKcrOL+Cz4gLhGx+niQ/eM2uvsRd4hEzm3v2Bu9Hj0A/eB6uoQtQp0+gpPsUVKnj0PacQl7sCNZFDuP9yJE1rFuB7Icf/4PH95cwNv6IkniCafJyi5LJSxxH+uRtDF+YQe7otxg6O4n+E2PYNHITutxx/NJ3AL8NfYLfhA69A9nii3/gyaPXmJ5ewMzMIu7NLmH68V/xXvwEnB9+hdbhr9C0508wMVvH3mv46PJ9lGZH8IvAYfy6/Sh+FT7yDmRf/3kK12/cwY2xOXx7c5aZzmFs5gnqcodQkRiGIbEPVcmPYeRZm/s9gjtGYEoOozK5HxuJ6sxB1GQOEAcFZJF0N7zBdjhaA2hsC4qzZ2AzDDodTBur0WAxi99GgwH6ch1KS7WwWe1w2qyw1dXBqCuHXqfnO3pxyrJbdyOVyaC63g0bxW1u9CCV64FSUw5/MIpMPAG/1494RwxBXwDRcAc6OyJocnvganRDXVSEfIUahSuQDX10AB6fH5VWJ2oa3Nhob0RXphvFZQZ4vAGEGKStpRWueidamtvQnUwjEgrCXGtGJSso1migUBVDuQLZ1l170bt5G1K9g0j3bUK6fzO27tgFRZGG/6hCvrwIcv7OL1RCXaKD1WKDXFEk7q8+U7wFWTCehC/KsmJd8Ee7xNm/ZTtLLoa6TAed3gCFuhgKTQlPBlaqoDVUwlhZhYoqE1TFpXy3ZA2y/p0fIhqLseRG1DmbBZfJXC80ZXp4fWEkozG0NLUgHAzD2+KBv82PaHs7y2+Bp8ULo9EIOUstYmAJsg+GP0E6kxYBzY0tqHE0MWAPSnQVCIYiSESiaA+EEPC0IkQ1DOS62ZQw2toCCPv9KCktE9mvBZQ4C3cm0dbRCV8kIdBPTqWHxWXl0FAmJeV6UXaZoUpkVqYth5r3S3n/ZyXHs73o6lluiGjMWlPUKKAMihgor0CODWzKhkIF1uUVsKsl0EgZqUveachyU5K9CITDNNZG1LJcyQ+T2R6+XIZGdys6/AHU2xrQTB4b7A1wU3uSHiVe/d5WlDPbQqX6f7I5du4iBvqyqKAOLS6Jw2YGpA61Fehg+dlEEjFyGQ+1sxlR9KWzSMWjcLtbEAmGxPS8EzCe60c0mYEnFEVrexxeondwi3io1RmhJU/lPIt4rTNWI8AuVxgryKMeOt5Xqn5ScpSznOzbjNzgVmQHtiC3aRu27dwNJbnLp7ALyeUGOfmjmKXfBdRhATOSq9TiudDoW5Bt2rkHLuqpihyujp6kQ1VJGazk1OfxoIZjZiN/NbV1MHNSPJ42OBoccDiczF4Hufot2ew9dAy57pzgzs5ZtdAg0t29KNVXUvBd6E1nqLsoUrFOJKJxcZ3ujCFEXjf15FBVaUQhyy5akY+ss3sQfrqHNCW2JrqNy4N0Tz9UpeUw1VpQy6ykDMtpTaY6OxKxOOw2GwwSj3ojtaoVgdYyzLEB3Zu3Y2D7EPq37cDAB7uwY/ceQfZ66m99gUKcedRgATmTk8f1+bzP6zxqU65adhvFyimLZvrg5WhJpUolW7mfM8xQyY5V1VjRaK+HnplUVJpEV/WcFrvdKXTZ6m6CaqXLytUuj37+BdLZNKob3jXYYq0RkVhS6C4ejgg9dkZiyHWlkI7H4PX4EAkEhVNLxrqmw+179yOWSAhTsK4GZFNUxVpYrA2cknrYLHZUGivZYQeSbI7b2cj1UANznRXF5E2u1IhgIkNpfrPUYP+2IfRtJYfbdwoOJU42CJ4UwkilWVaoS1FOf8zLlwv+pHvCYNc41EhdHkCQcpCyk75tpG+cbN8Aitg5fVUNLGYzSrW6lY7SfYhasx1mswV1dRZoqNfVLiulLg/uGiaHGYq6CXYGs7gkHfYJP2yPdKI3lUZHIEztJTjLHUjGJT3y5LgOZrPchvo1gxU6DMZTMDukCXHRrV38cOKSottotAY0cTn56CieZg/sVhvc1GlfJouArxVOh0s4uI6Tonh7UpI9A0iSx9Tbfji0S+yUfIUSeZxjaXbzOctFbFSVqZqcKoUOf0d9FkqSEfumWMy/LJbpRXsixQWVQCC2sqTo2AoGkfaK0VAhNLbcRZqDXAVDhQnVJvLL7pfRuSX7WnObfUdHyEcCFRanGD8Tl1QX/VBamf4g9cdF76MZxDnPQWlBhTr4uwPN7mZ4m730w58Y7B9Of4qBwX4hbHvzclNS0tYr5dbjZ0m7PwhfSxuanS5y2UqTSCASDpFTu/hUkXMcVzUo4b/Rw6uWiiHeYAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"random_data_1.png\"\n        title=\"random_data_1.png\"\n        src=\"/static/10841135305e0f81957e7328bc132127/e9131/random_data_1.png\"\n        srcset=\"/static/10841135305e0f81957e7328bc132127/e9ff0/random_data_1.png 180w,\n/static/10841135305e0f81957e7328bc132127/f21e7/random_data_1.png 360w,\n/static/10841135305e0f81957e7328bc132127/e9131/random_data_1.png 614w\"\n        sizes=\"(max-width: 614px) 100vw, 614px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>일일이 값을 바꾸기 귀찮아 이런형태로, 데이터를 수정시키는 반복문을 썼다.</p>\n<p>아이디값을 6자 이상이라 첫째자리는 01~09로 바꿔 반복문에 ‘dong1’~’dong9’까지 오류가 생겼다.</p>\n<p>이문제를 해결하고자</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 반복문 사용하여 나이수정</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1970/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong0'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong01~05</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1980/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">9</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong05 ~ dong09</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">11</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\t\n\t<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'1990/01/01'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>NUM<span class=\"token punctuation\">;</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- dong10~20</span></code></pre></div>\n<p>이렇게 바꾸었고, 더나은 방법이 있을까 고민하였다.</p>\n<ol>\n<li>01~20까지 문자열로 쓰되 첫째자리는 포맷처리</li>\n<li>연령대 랜덤값 수정</li>\n<li>클린 코딩</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOUlEQVQY0z2PW0+DQBCF+f3GR6Px8qJGG/VBf4KamGi8J/QGFEoLhS4LRXuh0OLn2Ac3M5nsZs453xofp8e87O5jnjdoNi5wbu9Y/4AUccvkeWcP8+SMz4Mj2tc3lFVFXdf8nf7DPY9b27TOGrwfHGJeXmF4QZ+R1kzmc/KiYLZYUJblRjD5nvLU9EkXFeNpic6nFLJT/wWK6WisaHkxWVHhRCl+lGC4PZswCNFJQp5lm67Wa+rViiQKMVtd8skXXn+A0+7wrRUrCawkOAoDzGaX4TBkMBwxCiIMp2fhui55nqOFNFOKYjYTwZxURbS7bdR4TChiFcdCuBTCH6RQSczb6wu2ZREEQ+IwxPB9Ty4BmZDFIsyEdFksNl9OU41tW2iV0O10cG2b5bL8N9SJwpJ33+vjOo5Mj1+yRG6a85TdcQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"random_data_2.png\"\n        title=\"random_data_2.png\"\n        src=\"/static/3ec6ba81424a74676ae93c1c420b62b9/37523/random_data_2.png\"\n        srcset=\"/static/3ec6ba81424a74676ae93c1c420b62b9/e9ff0/random_data_2.png 180w,\n/static/3ec6ba81424a74676ae93c1c420b62b9/f21e7/random_data_2.png 360w,\n/static/3ec6ba81424a74676ae93c1c420b62b9/37523/random_data_2.png 720w,\n/static/3ec6ba81424a74676ae93c1c420b62b9/d48f1/random_data_2.png 796w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>오라클과 친하진 않아서 힘들었지만 결국 성공했다 ㅎㅎ</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 반복문 사용하여 연령대 랜덤값 설정</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">BEGIN</span>\n\t<span class=\"token keyword\">LOOP</span>\n\t<span class=\"token keyword\">UPDATE</span> MEMBER\n\t<span class=\"token keyword\">SET</span> BIRTH <span class=\"token operator\">=</span> TO_DATE <span class=\"token punctuation\">(</span> <span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span><span class=\"token string\">'-'</span><span class=\"token operator\">||</span> <span class=\"token comment\">-- 일</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span><span class=\"token string\">'-'</span><span class=\"token operator\">||</span> <span class=\"token comment\">-- 월</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1960</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'DD-MM-YYYY'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 연</span>\n\t<span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'dong'</span><span class=\"token operator\">||</span>LPAD<span class=\"token punctuation\">(</span>NUM<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">--'dong 01 ~ 20' 포맷처리</span>\n\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"대여-랜덤-데이터\" style=\"position:relative;\"><a href=\"#%EB%8C%80%EC%97%AC-%EB%9E%9C%EB%8D%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0\" aria-label=\"대여 랜덤 데이터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>대여 랜덤 데이터</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 237px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwElEQVQ4y32TW0gUYRTHhwgSK6WioIcIkVxh0ywvGQktaDesYKOXxLwkpRuB9BBRlJDdIKKHEETqQYiipKfMIimIaF1td3O97GV21vuKruPOXtPVmdl/c91lRTpwvjPDx/nNOf9zhvC4XTBbzXDY7YK7YBei0+EEy7OSc3wcLBeXYjweh2hiVH3tOxEOBeHz+eD3+8H4GTCLNOhAEOsZLyTwfBIinJCZyrNwEutmLkXR7epC668n6HhPoqN7HsNjkcQ1p0BVeB+5DBvpQzQcBCGVyvOSi7b44SX8x3Nw+1EONnXsxpmmb8iqsuBAw2/caKPgD60mYGrOgtEI79AQmOhfBchx0gXT+RwuLYGJ/HQM1hdA05kDXXMP8upsKGkyI+uiCfq7IwhFWbltnoOEJHsQchnhC0QFIC/DYuQwqJJMeI7sgLskA9O6PXjV24K2ryT0dxzYXz+AY82D0FwawMPXk1IOqxQysvAZjqk+hILLApCTv0a/uAdSuwGesl3wlG5D5Ed3QrPYCocrz0icbxlFVasdp27awERYZRiAsf8PrFYbQuGIWKGsw9ytargL0kAVbsZ0nU4Wn11FLCZr9qWfRnZVP4obLSi8agHlXYI637A5CNohDGVF1FApe/6+AWTeRlDFGRg/mQ0uyCQSRHvaNYvcahOKBOBhgxVeOiYPh4unLEii5dCnt6BKt2Pmcjkm9fnwGiqxZOvH6rgT9Jt26A290DaNQltrQs1jZ+pC84qLi53cdh7extNwH0zDWMVeuIXWqaItoI7uxHgegYFzZThx7Sf21VhgGg2k7GNKhfL4ZR1Zeg7TtTqQuQTch9KFqWcIEmwFWZyJGQ2B72fL8dHEpCy1WlCyZbVCZX1ECQLv2jHTUIGJSo2k59SFQsw9uA6OHEzC4v8BroWqxvoXwPpmwceWU347lbEWJto/uI++/e1LUGAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"random_data_3.png\"\n        title=\"random_data_3.png\"\n        src=\"/static/f71a1d7688c8199da766b9edda7568d3/008e2/random_data_3.png\"\n        srcset=\"/static/f71a1d7688c8199da766b9edda7568d3/e9ff0/random_data_3.png 180w,\n/static/f71a1d7688c8199da766b9edda7568d3/008e2/random_data_3.png 237w\"\n        sizes=\"(max-width: 237px) 100vw, 237px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>회원 랜덤데이터보다 더욱 빡세졌다.</p>\n<h3 id=\"회원아이디\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%9B%90%EC%95%84%EC%9D%B4%EB%94%94\" aria-label=\"회원아이디 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원아이디</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token string\">'dong'</span> <span class=\"token operator\">||</span> LPAD<span class=\"token punctuation\">(</span>TRUNC<span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>회원 랜덤데이터 기입한게 있어 간단히 구현했다</p>\n<h3 id=\"차량번호\" style=\"position:relative;\"><a href=\"#%EC%B0%A8%EB%9F%89%EB%B2%88%ED%98%B8\" aria-label=\"차량번호 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>차량번호</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> CAR_NO\n\t\t\t<span class=\"token keyword\">FROM</span> CAR\n\t\t\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> DBMS_RANDOM<span class=\"token punctuation\">.</span>RANDOM<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">WHERE</span> rownum <span class=\"token operator\">=</span> <span class=\"token number\">1</span></code></pre></div>\n<p>차량값을 받아와 랜덤으로 줄지은 뒤 제일 위에 것만 던지기</p>\n<h3 id=\"대여날짜\" style=\"position:relative;\"><a href=\"#%EB%8C%80%EC%97%AC%EB%82%A0%EC%A7%9C\" aria-label=\"대여날짜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>대여날짜</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">TO_DATE <span class=\"token punctuation\">(</span> <span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'-'</span> <span class=\"token operator\">||</span> <span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'-'</span> <span class=\"token operator\">||</span> <span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2020</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'DD-MM-YYYY'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이것도 회원 생년월일 랜덤데이터에서 차용하였다.</p>\n<h3 id=\"통합\" style=\"position:relative;\"><a href=\"#%ED%86%B5%ED%95%A9\" aria-label=\"통합 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>통합</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 반복문 사용하여 대여 랜덤데이터 기입</span>\n<span class=\"token keyword\">DECLARE</span>\nNUM NUMBER :<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nRENTDATE <span class=\"token keyword\">DATE</span> :<span class=\"token operator\">=</span> sysdate<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 변수선언</span>\n<span class=\"token keyword\">BEGIN</span>\n\t\t<span class=\"token keyword\">LOOP</span>\n\t\t\t\tRENTDATE :<span class=\"token operator\">=</span> TO_DATE <span class=\"token punctuation\">(</span> <span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'-'</span> <span class=\"token operator\">||</span> <span class=\"token comment\">-- 대여일 초기화</span>\n\t\t\t\t<span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'-'</span> <span class=\"token operator\">||</span>\n\t\t\t\t<span class=\"token function\">ROUND</span> <span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2017</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2020</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'DD-MM-YYYY'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> RENT <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span>RENT_NO_SEQ<span class=\"token punctuation\">.</span>NEXTVAL<span class=\"token punctuation\">,</span>\t<span class=\"token string\">'dong'</span> <span class=\"token operator\">||</span> LPAD<span class=\"token punctuation\">(</span>TRUNC<span class=\"token punctuation\">(</span>DBMS_RANDOM<span class=\"token punctuation\">.</span><span class=\"token keyword\">VALUE</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\t<span class=\"token comment\">-- 아이디 랜덤값</span>\n\t\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> CAR_NO <span class=\"token keyword\">FROM</span> CAR <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> DBMS_RANDOM<span class=\"token punctuation\">.</span>RANDOM<span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> rownum <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\t<span class=\"token comment\">--차량번호 랜덤값</span>\n\t\t<span class=\"token number\">1</span><span class=\"token punctuation\">,</span> RENTDATE<span class=\"token punctuation\">,</span> RENTDATE<span class=\"token operator\">+</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'n'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">65000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'반납X'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">--대여일 랜덤, 반납일은 7일후 설정</span>\n\t\tNUM :<span class=\"token operator\">=</span> NUM <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">EXIT</span> <span class=\"token keyword\">WHEN</span> NUM <span class=\"token operator\">></span> <span class=\"token number\">10000</span><span class=\"token punctuation\">;</span>\t<span class=\"token comment\">-- 반복횟수</span>\n\t\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">LOOP</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>다른값을 가진 10000개의 데이터가 한번에 들어갔다.</p>\n<p><strong>느낀점?</strong></p>\n<p>구현해야 할 것이 무엇인지 명시해두니 순차적으로 해결하기 쉬워졌지만, 기획하는 것에 비해 구현하는 코딩실력이 못 따라온다. RDBMS도 범위가 방대하구나 싶다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%ED%9A%8C%EC%9B%90%EC%95%84%EC%9D%B4%EB%94%94\">회원아이디</a></li>\n<li><a href=\"#%EC%B0%A8%EB%9F%89%EB%B2%88%ED%98%B8\">차량번호</a></li>\n<li><a href=\"#%EB%8C%80%EC%97%AC%EB%82%A0%EC%A7%9C\">대여날짜</a></li>\n<li><a href=\"#%ED%86%B5%ED%95%A9\">통합</a></li>\n</ul>\n</div>","excerpt":"회원 랜덤 데이터 회원파트를 맡은 팀원이 dong1, dong2, dong3… dong20 이런식으로 첫째자리는 0없이 데이터값을 집어넣었었다.  일일이 값을 바꾸기 귀찮아 이런형태로, 데이터를 수정시키는 반복문을 썼다. 아이디값을 6자 이상이라 첫째자리는 01~09로 바꿔 반복문에 ‘dong1’~’dong9’까지 오류가 생겼다. 이문제를 해결하고자 이렇게 바꾸었고, 더나은 방법이 있을까 고민하였다. 01~20까지 문자열로 쓰되 첫째자리는 포맷처리 연령대 랜덤값 수정 클린 코딩  오라클과 친하진 않아서 힘들었지만 결국 성공했다 ㅎㅎ 대여 랜덤 데이터  회원 랜덤데이터보다 더욱 빡세졌다. 회원아이디 회원 랜덤데이터 기입…","frontmatter":{"date":"November 01, 2020","title":"회원 및 대여기록 랜덤데이터 생성","categories":"코드리뷰","author":"C-Designer","emoji":"👀"},"fields":{"slug":"/random_data/"}},"next":{"id":"145a1c35-3bbb-55ce-826c-a27f2488b3bc","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABs0lEQVQ4y51Tv0vDUBDOf+nmJrgKguDioujUDlURRRexUFHRxU1wUMTByVqrbZoqagtN0tqkSV5e0s+7Z6xaf7UeXI6Xl3z33Xd3WrVaRRiGYOt2u0M7G/8vhIDnedDiOP79J040RDLtJ2b0ACfzvQ78tj1wBdpPFwzG9nhXwcrCDK7yeXWOoui/gK/65K+KSKWWcHJ6rs6ciD2K4sEA8UFs1zKh6zoajQYMw4DdbCK56tmfgFySKotZuC7CwIfwHKVlKHyiKHH/UMfFpYFAfJ2OT11mC3wfPnlMZykFmq5EpUHNiYCOJNYCmF0/w8RcDnarncjQ1+Xv7E3DgmFhfHYbq5v7SK/tIrOxh8n0IXwhv4ApwMJ1iQaSGMURMZKq3Ncolfhex0FVL6Kil1Eu3aBSvlVnmSxDv2lT0/MolXW4pJdt28pNy0KTGmCaJlqt1nsDkihCqWTh7eAtCUlLQVESiV7JrB2DqpEIgt4ccnQcBwG9Y2cQ/q63rkkabmLIq6dmrZBHZmUR2dwWjo+PSH0PMZXOptO4MFMGZW+T12o1dZfdOcDI6BhSy2uoP9URP7fxArCU51icZQw+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rent_date_1.png\"\n        title=\"rent_date_1.png\"\n        src=\"/static/a254934416822069b7f72ed22dba5270/37523/rent_date_1.png\"\n        srcset=\"/static/a254934416822069b7f72ed22dba5270/e9ff0/rent_date_1.png 180w,\n/static/a254934416822069b7f72ed22dba5270/f21e7/rent_date_1.png 360w,\n/static/a254934416822069b7f72ed22dba5270/37523/rent_date_1.png 720w,\n/static/a254934416822069b7f72ed22dba5270/c1c45/rent_date_1.png 824w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<hr>\n<h3 id=\"기능구현-목표\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%8A%A5%EA%B5%AC%ED%98%84-%EB%AA%A9%ED%91%9C\" aria-label=\"기능구현 목표 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기능구현 목표</h3>\n<p>처음에 대여테이블에 해당데이터를 그림과 같이 기입했다 월별로 보기 간단하게 값을 설정했고 2020.02~ 2020.08 사이에 대여가능한 차량을 구해야한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 557px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADn0lEQVQ4y1WUy1PbVRTHfzN149Kd47/QlS6kzrjRVRfuXChW0LZQH9RXOlIEhADhkUBSHuUhMBTotINF6diOMtZSmeGRUJoAeZAnefyS/PIg5EEyQ4TajzepC70zZ+5dnHvuOd/zOVdyu92YTCasVivRaBSHw4Hb7eL0qBFJb+ad8zquvvs1201qdhqa8Hb04Fd3YhobJxBVUGIxFEXBYrEQj8eR0uk029vbeDweMpkMMeGwn0jwyi0ZaUzhYs0QXR+1k+3sIadu56mhH3R9RPvF/ncReEaxWCQQCHBycoJUil6yUvSDgwPsdht7Ph+/2kPMLFtZvtrO2AcqDOfqGa6qZ+TjRiarvqXpso4zM1uofjaSTsQwW7ZIiESkUplr6+vYbDYKhQKpVIp8Pk955bMUB64x9WkH1ZVaPq/upbZKx+VKDWdVc0jjBV696RSOTwmFI+UrkizLBPx+9rxewuGweMnC7q4TWYnhtNrwtbSxVPcdszWNzJ6v5/YnzcxfbKD3Gy3vL9jo+m2TSCiI0bRBSMSS4jtWLI8eodjsIPQsHGbh5Lj82rHINKkfgMFhng0Mke3ohOvD0D9IYnSU/66D/eTzDEN2O7a1dTybmwTsDhaXV1laf4zNs4ff6cTb0k5CrSHS0oHnSgOK6HDi+3bMmm78chiry8uqxcq9P/7EtOMQGYpSnULQ9J6PFYubF6fDSDdSvPWLzGFcIdyjJ68zkNHqiTS3keu9Rr67j13DoJCuSM2DINJEjBduJpFmhclmC8bfH+DfMLL4ULA35kP6IcLb8x7+UkLEunUcafs47NERa2qhoNNz1KXF3WcQ0uS5tOgVd8KcmlaQpqL/YhOJEhOQJkXbG+eWkDQrvDTh5M1bTjSfaRmqaaO/tgPDBTX9lzQMX2hFpRqhYkHm5UkX0vVdTo04yyaV2DObzfiDobKo962ihLEY0oIQeOaQ6tpRvqrspO6cli8+1FInTPVeO2evzCPdFiDPHSPdOXluP4rz/v5+eeRkwdFRPsdPq1ucnnbwxr04Z+5G+FJ7F0PrJLq2G3Q3j6NVT6FvnaBq8CGv309QIXwqFiK8didYPkvZbJZcLleGucSk5ckmcdnPcTyKZ2WZ7bVVksEAPsGaxbqDkkyQUqLYjWsEN9Y5ikVIRUP47Dtk4yLg/1gS5YdCIVLZHMeZLO7NJ3hF03KBYBl6j8tdnvd8SMa18RincYOjdIawGAKX+AtSB2n+AQbUesWMLMztAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rent_date_2.png\"\n        title=\"rent_date_2.png\"\n        src=\"/static/ecb95c0bace105378ed41ddf42af5ba6/30d00/rent_date_2.png\"\n        srcset=\"/static/ecb95c0bace105378ed41ddf42af5ba6/e9ff0/rent_date_2.png 180w,\n/static/ecb95c0bace105378ed41ddf42af5ba6/f21e7/rent_date_2.png 360w,\n/static/ecb95c0bace105378ed41ddf42af5ba6/30d00/rent_date_2.png 557w\"\n        sizes=\"(max-width: 557px) 100vw, 557px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>해당월 사이에 대여가능한 차량을 구하려면 단순하게 Between A and B로는 구현이안된다 산술연산자만 주고 반복문을 활용하라는 말과 같다. 왜냐하면 Between And 연산자는 해당컬럼을 1개로 밖에 다룰수없으며, 다른 연산자와 섞어 어떻게든 구현해도 훨씬 복잡해지기 마련이다.</p>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 553px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHElEQVQ4y3WU/U9TVxjH+xdukmy6uYGbS6qSskE7ae0rfYMGQQoBptMf0G3RTUKwQNRkiMgC7AexFmyBtrb0/WLfy4uWth9PW7OZmN7kyc05N/dzvs/zfZ4j83q9/Lu+jj8UIrTyDz6Njk2DBeWXvVxQTeCPSxwUCuRyuWZksxSOjvDOugjqTMT6B4naHXjVOqI2B7JUKsXLF24iUorck6dktUaStqsoTpsZM07R6inOL1A2WzkZHedwyEnKaGm8ZYlEglg0ipTPk3j0mECXkriln7UftWwO/0JN/Fyr1f6LykmlAdy4N8fgKQWPOzWkzTZ2VRpSfTZku7u7LC0+wRcMkl9eIakxcOQcpzw4xMlvfzTlfAysVBtbT6eX+OKzPu5cNHEyPEJcKDyoK4xEIoQE7HU8Ttg1h1/RTVIojArw/uSND7z/gdVKU+HmX3P8eqabZZGJZLKwo+wlIaCyWCyGe2ODwvExlecvSItCVyZu8Fac9vb3u58Aax+AeVHDar8DJq9THp0gLUSURT1l4XC4AQzUlbrm8cgVvNZb2OvVkbl+syUwNfOAPaWasOiIoMaIp0tF8IqxaUogEKB0WGJ1dpHuNg095xxMX9BTnrpDtQVw37VAXm/i1iUr3d/Y0LRbUbcLU4Kifs+erbAXCfH3nw/p/PwKP3UMMCPXwu2plsD0gzmO9XpuXbTS9a0ddYedy+12ZJIkkUomeVMsEFl4yM02OT2ndVjOqJmxNU2pVj9tm+f3H+E8q8bcYeLyVwbUXzejYcr66ioJMQWiw5n/XsWl8yN0nnUwZLjdsrFXZpY532ZG+cM1lN8NNePc1abCPWFMTNon7/HgUmixygWsaxit4z6+/QKlXJasODCTyZDLZMkfHjA+vUqf4hoDPU4GlGPYe0bp/1m4XJ/PgpjVYqmE/9Ur3IY+Iqpe4sNO1sYn2dzxI4nx9Pl8uN1u4iKjmBCxtriEd2CQNyNj7Mg72ZmdJZ1OI/s4jXr6ITGGeQHPFIv4trcJi0vjSFwGdfO2xboo9rNC6ZbnJfUpq7x7h39riy1xyRTEt/dEfJ1t932MNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rent_date_3.png\"\n        title=\"rent_date_3.png\"\n        src=\"/static/3d61ea389112771b9f0d51bf884c847c/74cfa/rent_date_3.png\"\n        srcset=\"/static/3d61ea389112771b9f0d51bf884c847c/e9ff0/rent_date_3.png 180w,\n/static/3d61ea389112771b9f0d51bf884c847c/f21e7/rent_date_3.png 360w,\n/static/3d61ea389112771b9f0d51bf884c847c/74cfa/rent_date_3.png 553w\"\n        sizes=\"(max-width: 553px) 100vw, 553px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>여러방법을 구상해보고 시도해봤지만 논리적오류가 한두개씩 계속 발생했고, 끝에 도출한 가장 이상적인 방법은 대여일 이전과 반납일 이후의 차량들만 추출후 여집합을 구하는것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> CAR_NO <span class=\"token comment\">-- 대여란에 중복된 차량 제거</span>\n  <span class=\"token keyword\">FROM</span> rent r\n <span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/02/01'</span><span class=\"token punctuation\">)</span> \n<span class=\"token operator\">AND</span> TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/08/01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span>RETURN_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/02/01'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">AND</span> TO_DATE<span class=\"token punctuation\">(</span>RETURN_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/08/01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>날짜 값을 던져 렌트 테이블 내에서의 차량들은 구했지만, 차량 테이블엔 있지만 렌트 테이블에 포함되지 않는 차량은 도출이 안된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 605px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADv0lEQVQ4y11U+1NbVRDOf+f0AYQITTJSWp3q+JvOOONPPlCrY+sDyjOUhHYcFRWF2Eong7ZUqxgDed6bmwQCJKTkAXlAyIMEbj53T5Kbtmdmc86c7Pnut7vfrg60Go2GMF4q7WrrzKt+qmIrU8LTXAXZ45p2zy6q2mgeWhi8dA3tcQNnagconq3A7k5jeDmGD+1bwm4+2Mbcv3sIJUuaH4M2ngHVtQ9qC4yZfLm0CeP4OrpH1tA17IJ+1I3eMQ96Rj3oHffDcOs/vDevQE4caWw1hsysDebczOLqrIILX/yD8x8swHBjGd1Dv0B//T4MnzvQRWfjyN84//48zn36O4zTQSyuJ58D1bXDXNvO49JUAKZpGYO2IAZmguifktE7ERDWM+YjxuswEMNXZmRcnpFoD9K9XwNlYiLkbPEE1+7IMFqaYAz68mQA7/4UwberT7GiHOBJJIeF9TSG7JQOi4RL7GsNClAm0g5fAM7+tYue8QCu2BTh+NqsjEfKPsWg4vRMRbJQRSJXxVHlVBTPFy/g7e9D9FGJ3gTFPrS4Kf7THVfqePMbBWZixcyu3QliO3PckQeHQlajn9pZRwVH5ZqIoH9KwgAxNU9L2EgVofPHD2GyNC/7ibpzM9fUHzELRyKIbGwgEJAQjUaRzmTgcrlwVGx+MJEt4YpVFm/1lNvfvGnoHoeyMEz4RQE++TWqiZsrls/nUS0VUcwfoFwsAGc1pFIp1Op1tMnefZKg9wH0EVPr4zh0nHCuHBfhgS8jnDhv7RVOlbDg2cePrjQpoaDdt324GByugfJ4e4UA3TsFUTUTXXpjBXSErmLqYUyw53BYOrwPLW6I/LVXntrxVZuMbiGfFHS5Y5LMXS69BGn3UHP8wbmHC7d8uEz5YeM8saS6Rv24sbTVKhdwWK7jqk0S+We2Qjbjf8RwbtiLP0MHWgXfoI+YbzOYQlrr2IA1JKKJJIvClxXR19IsRyUAE7ky5dGHkeUd4bRBzoO2EPpGVqnNfsbFj++h+zOH2C9+ZCcACQ+D+8LX7k7hpa89cEab6tBazxHIQD/mFcOhWKlR68kwW/w0JNZgnHDDNOkRZp50iwJ6Y4ci7EFqQc61Nm0az8y/eVcS78wpKFfr+MqxA/0EdcJsmMJUhA1SJ/VPK9QlYVRP6ri5FMWwY1vL5/PjqwXqjOZhXdnBSjCN16m/9VRd7nE2bjGTJYD77j3Mre6SkFOdufjigOW9HX7p5BTybgGPAnu4bg/jre9CwngG3luLQ4rncUAD5cVpz/v/6bYFC2s9v+YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rent_date_4.png\"\n        title=\"rent_date_4.png\"\n        src=\"/static/35c02602296d1baa8bf5d20fa27fa298/90cbd/rent_date_4.png\"\n        srcset=\"/static/35c02602296d1baa8bf5d20fa27fa298/e9ff0/rent_date_4.png 180w,\n/static/35c02602296d1baa8bf5d20fa27fa298/f21e7/rent_date_4.png 360w,\n/static/35c02602296d1baa8bf5d20fa27fa298/90cbd/rent_date_4.png 605w\"\n        sizes=\"(max-width: 605px) 100vw, 605px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>트랜잭션처리 하려 했지만 값을 2번던지면 sql 및 메서드 구현이 더욱 번거로워지므로 서브쿼리문으로 도출하여 Not(여집합)을 두번써서 값도출 성공</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n  <span class=\"token keyword\">FROM</span> CAR\n <span class=\"token keyword\">WHERE</span> CAR_NO <span class=\"token operator\">NOT</span> <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span> <span class=\"token comment\">-- 서브쿼리 시작</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> CAR_NO <span class=\"token comment\">-- 대여란 에 중복된 차량 제거</span>\n  <span class=\"token keyword\">FROM</span> rent r\n <span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/02/01'</span><span class=\"token punctuation\">)</span> \n<span class=\"token operator\">AND</span> TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/08/01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span>RETURN_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/02/01'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">AND</span> TO_DATE<span class=\"token punctuation\">(</span>RETURN_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'2020/08/01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">--서브쿼리 끝</span></code></pre></div>\n<hr>\n<h3 id=\"schema\" style=\"position:relative;\"><a href=\"#schema\" aria-label=\"schema permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Schema</h3>\n<p>테이블 안겹친다고 컬럼명 똑같이 쓰지말자 아예 Connetion이 없는 경우면 모를까. 에러가 안터져서 몰랐지만, sql query가 매우 번거로워지며, 유지보수 하기에도 불편하다.</p>\n<hr>\n<h3 id=\"sql\" style=\"position:relative;\"><a href=\"#sql\" aria-label=\"sql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL</h3>\n<p>T0<em>CHAR()는 날짜를 숫자로 도출하여 활용할때 쓰지만 내가 알고자 했던부분은 어느 값이 더큰지라서 TO</em>DATE()만 써도 괜찮았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">TO_CHAR<span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> TO_DATE<span class=\"token punctuation\">(</span>기입일<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></code></pre></div>\n<p>이런형태로 번거롭고 어렵게 풀이하였고,</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">TO_DATE<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> TO_DATE<span class=\"token punctuation\">(</span>기입일<span class=\"token punctuation\">)</span></code></pre></div>\n<p>이렇게 다시 간소화하였다.</p>\n<hr>\n<h3 id=\"java\" style=\"position:relative;\"><a href=\"#java\" aria-label=\"java permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JAVA</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 차량dto</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> no<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 차번호(기본키)</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 차량이름</span>\n\t\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> kind<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 차량분류</span>\n\t\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> brand<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 브랜드분류</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> remark<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 차량비고</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> is_rent<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 반납여부</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> counting<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 대여횟수</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> image<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 이미지</span></code></pre></div>\n<p>겹치는 외래키값을 DTO에서 값으로 받을때 SQL문으로 테이블 조인시킨뒤 클래스IN클래스 형태로 받는것이 아닌, DTO안의 외래키값을 String 이나 int로 받아와서 웹상에서 Get Post할때 받고 던질생각이였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 차량dto</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> no<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 차번호(기본키)</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 차량이름</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Kind</span> kind<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 차량분류</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">Brand</span> brand<span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">// 브랜드분류</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> remark<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 차량비고</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> is_rent<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 반납여부</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> counting<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 대여횟수</span>\n\t  <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> image<span class=\"token punctuation\">;</span>\t<span class=\"token comment\">// 이미지</span></code></pre></div>\n<p>Back End에는 그렇게 구현하는것이 편할거라 생각했다 하지만, Front End에서 값을 주고받을려니 너무 번거로워졌다.</p>\n<hr>\n<h3 id=\"느낀점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80%EC%A0%90\" aria-label=\"느낀점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀점?</h3>\n<p>DB정규화라는게 괜히 있는게 아닌것 같다.</p>\n<p>알고리즘을 짤땐 무조건 IPO에 맞게 적어두고 코딩하자</p>\n<p>편하게 대충 코딩하기전에 나중에 유지보수할 사람을 생각하자</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%8A%A5%EA%B5%AC%ED%98%84-%EB%AA%A9%ED%91%9C\">기능구현 목표</a></li>\n<li><a href=\"#schema\">Schema</a></li>\n<li><a href=\"#sql\">SQL</a></li>\n<li><a href=\"#java\">JAVA</a></li>\n<li><a href=\"#%EB%8A%90%EB%82%80%EC%A0%90\">느낀점?</a></li>\n</ul>\n</div>","frontmatter":{"date":"November 01, 2020","title":"기입일 기준 대여가능한 차량 리스트 반환","categories":"코드리뷰","author":"C-Designer","emoji":"👀"},"fields":{"slug":"/rent_date/"}},"prev":{"id":"8bacf04a-be14-5cb5-9812-2c235422b97c","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVQoz1VSu25UMRC9n8Y30MJHICJaCkSNiIQQDQ2UiUQF4gcokEBhRRQFZamibcg+7sOea499fTieu0uIpZHH8zhzZjxN7zxefbrCm48XkBCRc0YIATEqVBXjONq72qtETSZVn6ZZZn2yu2Emludf8P13j6yRIBGHU0qBiBho1WvS7SkEmEw0Tdi0nnpCo5cLLJ/cx+PjBX5crhmnTJ5TKsABZL4LXp5c4+j1Er1THJ9e496jM3y96CymgjeZ7cj7F/h1cooh3zI73CklthwpSsOEp2+v8ODZApsu4N3nFR4+/4nFstsXLWyZx7P4KI4JyaoUAwP2RO8wna3/t36XRFOVSAZVKhsbcIqzqGDKvPfzs8FPxZjUvBwc0ujonwtVmwHmac+KyWXk5wiFgXnkoH1bQy3JQBmjQaD0J884tyNQ/seyqUDKRGnXkG4L8QI/6iwhw/UDZHeDMHTw7Ra+ayHVRvESza+uM0K2NgbIikG4bzrvmXKVEtcnRzKJgT5B4p1pN19SvsViAt+Ba1XHpbQ3h2HWE/kxwbUYyXbsNsbG7dbWXhRPNi2GvsNApsPmBkLWNb9wuVd/tvjwbYW/2XwBIfb8A0wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gender_chart_4.png\"\n        title=\"gender_chart_4.png\"\n        src=\"/static/6a088c97a1f41e2254baa3c5b95da05c/37523/gender_chart_4.png\"\n        srcset=\"/static/6a088c97a1f41e2254baa3c5b95da05c/e9ff0/gender_chart_4.png 180w,\n/static/6a088c97a1f41e2254baa3c5b95da05c/f21e7/gender_chart_4.png 360w,\n/static/6a088c97a1f41e2254baa3c5b95da05c/37523/gender_chart_4.png 720w,\n/static/6a088c97a1f41e2254baa3c5b95da05c/302a4/gender_chart_4.png 1080w,\n/static/6a088c97a1f41e2254baa3c5b95da05c/ae77d/gender_chart_4.png 1111w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>차트api의 한정된 구조에 맞춰 sql을 짜야하다보니 DB구조상 복잡하게 데이터를 추출해야 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//그래프에 표시할 데이터          </span>\n<span class=\"token keyword\">var</span> dataRow <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n          \n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token number\">29</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">//랜덤 데이터 생성            </span>\n\t\t<span class=\"token keyword\">var</span> total   <span class=\"token operator\">=</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>            \n\t\t<span class=\"token keyword\">var</span> man     <span class=\"token operator\">=</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> total<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>            \n\t\t<span class=\"token keyword\">var</span> woman   <span class=\"token operator\">=</span> total <span class=\"token operator\">-</span> man<span class=\"token punctuation\">;</span>            \n\t\t\n\t\tdataRow <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2017'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'09'</span><span class=\"token punctuation\">,</span> i <span class=\"token punctuation\">,</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> man<span class=\"token punctuation\">,</span> woman <span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>            \n\t\tdata<span class=\"token punctuation\">.</span><span class=\"token function\">addRow</span><span class=\"token punctuation\">(</span>dataRow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>api 상에는 랜덤값으로 설정되어 차트가 나와있었지만 나는 DB에서 값을 받아와 집어 넣어야했기에</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">//그래프에 표시할 데이터          </span>\n<span class=\"token keyword\">var</span> dataRow <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>          \n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> $<span class=\"token punctuation\">{</span>carByMonthly<span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>            \n\t\t<span class=\"token keyword\">var</span> man     <span class=\"token operator\">=</span> $<span class=\"token punctuation\">{</span>carByMonthly<span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>            \n\t\t<span class=\"token keyword\">var</span> woman   <span class=\"token operator\">=</span> $<span class=\"token punctuation\">{</span>carByMonthly<span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>            \n\t\t<span class=\"token keyword\">var</span> total   <span class=\"token operator\">=</span> man <span class=\"token operator\">+</span> woman<span class=\"token punctuation\">;</span>            \n\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>man<span class=\"token punctuation\">,</span> woman<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            \n\t\t\n\t\t<span class=\"token keyword\">var</span> year <span class=\"token operator\">=</span> $<span class=\"token punctuation\">{</span>carByMonthly<span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                    \n\t\t<span class=\"token keyword\">var</span> month <span class=\"token operator\">=</span> <span class=\"token class-name\">Number</span><span class=\"token punctuation\">(</span>$<span class=\"token punctuation\">{</span>carByMonthly<span class=\"token punctuation\">}</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>                   \n\t\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">,</span> month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            \n\t\t\n\t\tdataRow <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">,</span> month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> man<span class=\"token punctuation\">,</span> woman <span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>            \n\t\tdata<span class=\"token punctuation\">.</span><span class=\"token function\">addRow</span><span class=\"token punctuation\">(</span>dataRow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>던질값에 맞춰 받을값을 변경하였다. 사실 프론트에서 받는건 크게 문제가 되지않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 월별 차량대여현황</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY-MM'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> RENT_DATE<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> MEMBER m <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">OUTER</span> <span class=\"token keyword\">JOIN</span> RENT rent <span class=\"token keyword\">ON</span> rent<span class=\"token punctuation\">.</span>ID <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>ID <span class=\"token keyword\">WHERE</span> gender <span class=\"token operator\">=</span> <span class=\"token string\">'F'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">WHERE</span> RENT_DATE <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> F<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> MEMBER m <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">OUTER</span> <span class=\"token keyword\">JOIN</span> RENT rent <span class=\"token keyword\">ON</span> rent<span class=\"token punctuation\">.</span>ID <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>ID <span class=\"token keyword\">WHERE</span> gender <span class=\"token operator\">=</span> <span class=\"token string\">'M'</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">WHERE</span> RENT_DATE <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>RENT_DATE<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> M\n\n<span class=\"token keyword\">FROM</span> RENT r\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> TO_CHAR<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY-MM'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> RENT_DATE\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> RENT_DATE<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 274px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVQoz2WPW2sTURSF58/6llaMCirWvvkPBBH64C3xQktFKT4IPlgpIUmbZDKXzP3MTCbTJO1UMpk2RvN5UlNF3PBx9lqbs9hbmU/PCDyX0o7B+usapSf73KwcceNFk7WtLzzYi7j+IeVVY0DN0OiZHezklM9dgR5E7LfqGGqHjhhyYKco1a8Oj97XKT89YHO7xe03GuWqSul5i7WXKusVlWvPujz+qOK4Lj1X4IgBza6D7oSYlo3tJ1h+n6bmomy8s7lVOeRetcnDPZ/7ctONXZu7OzZ3ti35WpTfWmx9MuiPpvjHBV7yja7dRwxzgmFBcJxL7wxVeoqpa3iOhWVqGKZBEoeMhilFUXBRTCQ559MJ32cXwIJlLX7OORmPVvovs9k5iqbrWLZDo9Ojodp0TJ+2GRCPC/rj6YplnxMNJ4SSaJTjRKNLHa10MMgwvEQGasvNTBptg9qRwaFqUW/3ZGB+GXJFcsXJFCE/W0Eq+9+zgfTCNEN3YxTP84jjmFAEBIHcLBREUcT/tfhz8qk8Vwjxz/THfEaWZfwCScHw2szpGM4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gender_chart_2.png\"\n        title=\"gender_chart_2.png\"\n        src=\"/static/50f7f9be974b1a443eca35e0d1a08649/d3fa7/gender_chart_2.png\"\n        srcset=\"/static/50f7f9be974b1a443eca35e0d1a08649/e9ff0/gender_chart_2.png 180w,\n/static/50f7f9be974b1a443eca35e0d1a08649/d3fa7/gender_chart_2.png 274w\"\n        sizes=\"(max-width: 274px) 100vw, 274px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>최대한 머리를짜내어 구현해봤지만, 메인 쿼리의 GROUP BY 에서 서브 쿼리를 받을 RENT_DATE를 적는순간 분류하는 기준이 날짜별로 갈린뒤 동일한 해당월이 컬럼이 2개가 된다</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 월별 차량대여현황</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY-MM'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> RENT_DATE<span class=\"token punctuation\">,</span> WM_CONCAT<span class=\"token punctuation\">(</span>GENDER<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> GENDER    <span class=\"token keyword\">FROM</span> MEMBER m <span class=\"token keyword\">JOIN</span> RENT rent <span class=\"token keyword\">ON</span> rent<span class=\"token punctuation\">.</span>ID <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>ID    \n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> TO_CHAR<span class=\"token punctuation\">(</span>RENT_DATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY-MM'</span><span class=\"token punctuation\">)</span>    \n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> RENT_DATE<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 715px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmUlEQVQI15WOuwrCQBBF8802+kUKgr9gYTqbGDRZNkt2Qx4m2cUHiGAhHPNQsbUY7szlcBhvsRFMlyGTechsJfB3CbGQZGVDbc8c29Nf4623B/xAEaQOWd+Ik4xIakzpyCrXpUUXLaaww9534z12XyZvqOwVz+iUfSRp3IX744lIDGGkECpDmar71JJ2cC/Qv/mWfOQ6bwf2BcF/2MBQPCJsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gender_chart_3.png\"\n        title=\"gender_chart_3.png\"\n        src=\"/static/a9eb97455683888886cc41ad76083358/d0c0e/gender_chart_3.png\"\n        srcset=\"/static/a9eb97455683888886cc41ad76083358/e9ff0/gender_chart_3.png 180w,\n/static/a9eb97455683888886cc41ad76083358/f21e7/gender_chart_3.png 360w,\n/static/a9eb97455683888886cc41ad76083358/d0c0e/gender_chart_3.png 715w\"\n        sizes=\"(max-width: 715px) 100vw, 715px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>스트링으로 받아 카운팅 하는 수밖에 떠오르질 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">do</span> <span class=\"token punctuation\">{</span>        \n\t\t<span class=\"token class-name\">String</span> gender <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GENDER\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        \n\t\t<span class=\"token keyword\">int</span> man <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>        \n\t\t<span class=\"token keyword\">int</span> woman <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 값이 여러개일시 ,로 잘라 배열로 구분            </span>\n\t\t\t\t<span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> array <span class=\"token operator\">=</span> gender<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            \n\t\t\t\t<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>array<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>                \n\t\t\t\t\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"M\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> man<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\t\t\t\t\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> woman<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// 값이 한개일시 , 자를필요없이 구분</span>\n\t\t\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"M\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> man<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>gender<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"F\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> woman<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token class-name\">JSONArray</span> rowArray <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JSONArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\trowArray<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"RENT_DATE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\trowArray<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>man<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\trowArray<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>woman<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tjsonArray<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>rowArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 140%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC+0lEQVRIx41WiW7aQBDN//9KpUptSaSUSyFOuAqoHCUE0oQeOcpl8IXttV93Zu1gBwisNPLuzPJ2Z/bNDCdhGIKEhu/78DwPQRBACMFCOkDZ6Rvv3ycnvC0CtCwL9Xodmqah1+uh3W6jXK6wrVU1cTdwFGwQH7A9UoCTyQSFQgFXV1doNpv8rUSAjbKJUT8C3I+HE3IvFt/3WOgAIXx2l/RhGERuUyg2+3fJG0AlBOC6pAtZ764F64MDYAyYdMFYCfz4bvP8YbTGw92abXXNgGMHB91NxFAtnv96qJQMnt/dOK+PQDp9IY4DTLnskatCzqWLnkjQJ4jmR8Qw5lv84+SIX58OIDs9Ckm8N4h+m5QtHjYaDVSrVfT7feZirVZn25+xi27LZvocEUMFOJ1Okc/nUSwWGVi71HBZumTbSMa0cLaEll8dF0MCdZw1DMOU6efDtm2+seuqVLRM0lFqinfj+Qqo4rfJ2fRcxU4RPIjiuZvoKdpMXjw0KyZqkneWKbCY+7z+dm1iqQvYVoCfQ8VPohJx9S2VUoC/7l2cf9KR/axjtRR4krz8Kte5LzrmU5/JXddMPoT29dv2NmA69YSMmy9v5zFVKF42r1VOO46P2cRlMVbpeO7M5bc83IwgIeFr/IJwby6rO9PLdjpdtFotjEYjlm63x7Z7GbvH325E9HBvCqYAZ7MZstkscrmcJHQN1UoV19dltl2cLyWxrajAHslD4t18PuebrpYr6LoueehGBx7O4x08TOdwPI/5F3Pw6Hr48uhh0FVU6HdsTJ49lccPLoay/NP3YAtI3ujlSdbDC1UPOw2L85frodRlPszRaVpbHmwBklG9WghPln3T8CUpAubf2hFMDX3hy5j63BaS+3e20WQtIzIf5mGwVQP31kPHcXB7e4vB4Abj8ZhlOByx7Z+M51jm8DBqpe+6nOzLp6enyGQy3JNLpZLs00W23chHOvu4QFbm9eb1D/xzIP4tFgu+qWEYLFQbaZiyIy5lo9p0v90P8x9LSXrgCB1YJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gender_chart_1.png\"\n        title=\"gender_chart_1.png\"\n        src=\"/static/bf1f6fac8bd99760c96064fb191199b4/37523/gender_chart_1.png\"\n        srcset=\"/static/bf1f6fac8bd99760c96064fb191199b4/e9ff0/gender_chart_1.png 180w,\n/static/bf1f6fac8bd99760c96064fb191199b4/f21e7/gender_chart_1.png 360w,\n/static/bf1f6fac8bd99760c96064fb191199b4/37523/gender_chart_1.png 720w,\n/static/bf1f6fac8bd99760c96064fb191199b4/302a4/gender_chart_1.png 1080w,\n/static/bf1f6fac8bd99760c96064fb191199b4/78612/gender_chart_1.png 1260w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"느낀점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80%EC%A0%90\" aria-label=\"느낀점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀점?</h3>\n<p>다듬을 시간도 구현할 시간도 부족했지만, 배움이 많이 부족한것같다 차차 공부하여 간결성, 재사용성, 이해도가 높은 코드를 짜야겠다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%8A%90%EB%82%80%EC%A0%90\">느낀점?</a></li>\n</ul>\n</div>","frontmatter":{"date":"November 01, 2020","title":"google chart api 적용","categories":"코드리뷰","author":"C-Designer","emoji":"👀"},"fields":{"slug":"/gender_chart/"}},"site":{"siteMetadata":{"siteUrl":"https://c-designer.github.io","comments":{"utterances":{"repo":"c-designer/c-designer.github.io"}}}}},"pageContext":{"slug":"/random_data/","nextSlug":"/rent_date/","prevSlug":"/gender_chart/"}},"staticQueryHashes":["1073350324","2938748437"]}